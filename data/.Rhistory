126*0.1727079
############################################################################### 28
s = c(17,28,21,15)
n = c(90,166,126,87)
############################################################################### 28
s = c(17,28,21,15)
n = c(90,166,126,87)
tab <- rbind(s,n-s)
chisq.test(tab)
1-pchisq(0.21606,df=3)
############################################################################### 29
table2 <- matrix(c(35,64,42,20,30,60,55,45,8,14,8,7),nrow=3,byrow=TRUE)
table2
############################################################################### 16
p_x = 1.2
p_y = 1.7
k = 10000
x1=rexp(k,p_x)
x2=rexp(k,p_y)
x2=rexp(k,p_y)
x1+x2
liste = c(x1+x2)
liste[i]
liste[0]
liste[1]
mean(liste)
x1=rexp(k,p_x)
x2=rexp(k,p_y)
liste = c(x1+x2)
mean(liste)
1-pexp(3,1/1.437977)
1-pexp(2,1/1.437977)
k = 10000
x1=rexp(k,p_x)
x2=rexp(k,p_y)
liste = c(x1+x2)
mean(liste)
mean(liste)
1-pexp(2,1/1.40978)
1-pexp(3,1/1.40978)
############################################################################### 17
Time_Driver_1 <- c(100.391,101.506,102.241,103.058,103.766,104.801)
Time_Driver_2 <- c(100.495,101.455,102.468,103.350,104.230,105.391)
Time_Reserve  <- c(100.617,101.623,102.750,103.617,104.411,105.346)
y = c(100.391,100.495,100.617,
101.506,101.455,101.623,
102.241,102.468,102.750,
103.058,103.350,103.617,
103.766,104.230,104.411,
104.801,105.391,105.346
)
dæk <- factor(c(1,1,1,
2,2,2,
3,3,3,
4,4,4,
5,5,5,
6,6,6))
y = c(100.391,100.495,100.617,
101.506,101.455,101.623,
102.241,102.468,102.750,
103.058,103.350,103.617,
103.766,104.230,104.411,
104.801,105.391,105.346
)
dæk <- factor(c(1,1,1,
2,2,2,
3,3,3,
4,4,4,
5,5,5,
6,6,6))
kører <- factor(c(1,2,3,
1,2,3,
1,2,3,
1,2,3,
1,2,3,
1,2,3))
mu = mean(y)
alpha <- tapply(y, dæk, kører) - mu
dek <- factor(c(1,1,1,
2,2,2,
3,3,3,
4,4,4,
5,5,5,
6,6,6))
korer <- factor(c(1,2,3,
1,2,3,
1,2,3,
1,2,3,
1,2,3,
1,2,3))
alpha <- tapply(y, dek, korer) - mu
treatm <- factor(c(1,1,1,
2,2,2,
3,3,3,
4,4,4,
5,5,5,
6,6,6))
block <- factor(c(1,2,3,
1,2,3,
1,2,3,
1,2,3,
1,2,3,
1,2,3))
mu = mean(y)
alpha <- tapply(y, treatm, mean) - mu
beta <- tapply(y, block, mean) - mu
mu
alpha
beta
D <- data.frame(treatm, block, y)
fit <- lm(y ~ treatm + block, data=D) anova(fit)
fit <- lm(y ~ treatm + block, data=D)
anova(fit)
D <- data.frame(treatm, block, y)
fit <- lm(y ~ treatm + block, data=D)
anova(fit)
##################################################################### 11)
anova(lm(logt ~ treatments))
##################################################################### 10)
#ANOVA envejs
logt <- c(-1.02, -1.24, -0.92, -1.47, -0.08, -0.49, -0.71, 0.22, -0.82, -1.05,
-1.17, -0.92, -0.58,  0.02, -0.34, -0.97, -1.51, -1.56, -1.2, -0.99,
-1.47, -1.39, -1.2,  -1.02)
treatments <-
as.factor(c("A", "A", "A", "A", "B", "B", "B", "B", "C", "C", "C", "C",
"D", "D", "D", "D", "A", "A", "B", "B", "C", "C", "D", "D"))
#Gns. af y:
mu = mean(logt)
#MUIS
muis = tapply(logt,treatments,mean)
muis
alpha = muis - mu
alpha
##################################################################### 11)
anova(lm(logt ~ treatments))
##################################################################### 12)
#Post Hoc analysis:
tapply(logt,treatments,mean)
##################################################################### 11)
anova(lm(logt ~ treatments))
anova(fit)
y = c(100.391,100.495,100.617,
101.506,101.455,101.623,
102.241,102.468,102.750,
103.058,103.350,103.617,
103.766,104.230,104.411,
104.801,105.391,105.346
)
treatm <- factor(c(1,1,1,
2,2,2,
3,3,3,
4,4,4,
5,5,5,
6,6,6))
block <- factor(c(1,2,3,
1,2,3,
1,2,3,
1,2,3,
1,2,3,
1,2,3))
mu = mean(y)
alpha <- tapply(y, treatm, mean) - mu
beta <- tapply(y, block, mean) - mu
mu
alpha
beta
D <- data.frame(treatm, block, y)
fit <- lm(y ~ treatm + block, data=D)
anova(fit)
##################################################################### 11)
anova(lm(logt ~ treatments))
anova(fit)
############################################################################### 19
#Parvis post hoc
MSE = 0.188/10
##################################################################### 11)
anova(lm(logt ~ treatments))
#Gns. af y:
mu = mean(logt)
mu
#MUIS
muis = tapply(logt,treatments,mean)
muis
alpha = muis - mu
anova(fit)
#Anvend residuals i frihedsgrader (n-k):
qt(0.975,1)#2.085963
#Anvend residuals i frihedsgrader (n-k):
qt(0.975,10)#2.085963
mu = mean(y)
alpha <- tapply(y, treatm, mean) - mu
beta <- tapply(y, block, mean) - mu
beta
#Anvend residuals i frihedsgrader (n-k):
qt(0.975,10)#2.228139
############################################################################### 19
#Parvis post hoc
MSE = 0.188/10
#(reservekører)-(-kører2), og MSE*(1/6 OG 1/6)
#-0.6816667-(-0.5416667)+c(-1,1) *2.085963*sqrt(MSE*(1/6+1/6))
0.19866667-(0.03616667)+c(-1,1) *2.228139*sqrt(MSE*(1/6+1/6))
#(reservekører)-(-kører2), og MSE*(1/6 OG 1/6)
#-0.6816667-(-0.5416667)+c(-1,1) *2.085963*sqrt(MSE*(1/6+1/6))
0.19866667-(0.03616667)+c(-1,1) *2.228139*sqrt(MSE*(1/6+1/6))
2*qt(0.995,28) * 0.49844
############################################################################### 23
c(rep(1,100),rep(0,300))
############################################################################### 23
x = c(rep(1,100),rep(0,300))
sd(x)
mean(x)
qt(0.95,399)
mean(x)-1.648682*sd(x)/sqrt(400)
############################################################################### 24
53.3333-16.666
126*0.1727079
rnorm(234,mean=20.22413)
x = rnorm(234,mean=20.22413)
sd(x)
x = rnorm(234,mean=20.22413)
sd(x)
x = rnorm(234,mean=20.22413)
sd(x)
x = rnorm(234,mean=20.22413)
sd(x)
sd(x)
x = replicate(10000,rnorm(234,mean=20.22413))
sd(x)
x = replicate(10000,rnorm(234,mean=20.22413))
sd(x)
(20.22413-20) / sd(x)/sqrt(234)
t_obs = (20.22413-20) / sd(x)/sqrt(234)
p <- 2 * (1 - pt(abs(t_obs), df=233))
p
sd(x)
#CONFIDENCE INTERVAL MEAN: 99%
x <- c(8500, 10300, 6800, 10600, 4900, 6200, 10800, 5700, 5100, 9000)
#Eller
t.test(x, conf.level = 0.99)
#Eller
t.test(7790, conf.level = 0.99)
x = replicate(10000,rnorm(234,mean=20.22413))
t.test(x,conf.level=0.95)
t.test(x,conf-20.level=0.95)
t.test(x-20,conf.level=0.95)
t.test(x, mu=20)
############################################################################### 4
n <-
k <-
MSE <- 500/50
ni <-10
nj <-10
qt(0.975, df=50) * sqrt(MSE * (1/ni + 1/nj)) #2.840532
#Statistics
list = c(1,2,3,4,5,6,7,8,9,10)
mean(x)
sd(x)
var(x)
pnorm(0,50,15)
pnorm(2,50,15)
pnorm(2,50,15)
pnorm(2,50,15)
pnorm(10,50,15)
#REWARD mean DQN
mean(rewards_DQN_1$V1) #-1336.01
#REWARD mean INTERVAL
mean(rewards_Interval_model_2$V1) #-1252.76
rewards_DQN_1 <- read.csv("~/Documents/Dokumenter/DTU/Projekt/02461Projekt/data/rewards_DQN_1.csv", header=FALSE)
View(rewards_DQN_1)
rewards_Interval_model_2 <- read.csv("~/Documents/Dokumenter/DTU/Projekt/02461Projekt/data/rewards_Interval_model_2.csv", header=FALSE)
View(rewards_Interval_model_2)
#Først bestemmes samplesize ud fra variansen af et pilotstudie
var(rewards_DQN_1$V1)
#Først bestemmes samplesize ud fra variansen af et pilotstudie
var(rewards_DQN_1$V1) #165249.9
n=1.96^2*(165249.9)/0.5^2
n
mean(rewards_DQN_1$V1)
#Først bestemmes samplesize ud fra variansen af et pilotstudie
var(rewards_DQN_1$V1) #165249.9
#Først bestemmes samplesize ud fra variansen af et pilotstudie
var(rewards_DQN_1$V1) #165249.9
mean(rewards_DQN_1$V1) #1336.01
#Først bestemmes samplesize ud fra variansen af et pilotstudie
sd(rewards_DQN_1$V1) #165249.9
406^2
#Først bestemmes samplesize ud fra variansen af et pilotstudie
var(rewards_DQN_1$V1) 406.5094
#Først bestemmes samplesize ud fra variansen af et pilotstudie
sd(rewards_DQN_1$V1) 406.5094
#Først bestemmes samplesize ud fra variansen af et pilotstudie
var(rewards_DQN_1$V1) 406.5094
#Først bestemmes samplesize ud fra variansen af et pilotstudie
var(rewards_DQN_1$V1) #
n=1.96^2*(165249.9)/50^2
n #2539296
n=1.96^2*(165249.9)/25^2
n #253.9296
#Interval
var(rewards_Interval_model_2$V1)
#SAMPLE SIZE TIL INTERVAL
n=1.96^2*(100919.3)/25^2
n
#Vi beregner nu konfidensintervaller:
qt(0.975)
#Vi beregner nu konfidensintervaller:
sd(rewards_DQN_1$V1)
sd(rewards_Interval_model_2$V1)
#Konfidensinterval for DQN:
-1336.01+c(1,-1)*(406.5094)/sqrt(1015.718)
#Konfidensinterval for DQN:
-1336.01+c(1,-1)*(406.5094)/sqrt(100) #-1323.255 -1348.765
#Konfidensinterval for Interval:
-1252.76+c(1,-1)*(317.678)/sqrt(100)
####################################PLOTS
plot(rewards_DQN_1$V1)
rewards_DQN_3 <- read.csv("~/Documents/Dokumenter/DTU/Projekt/02461Projekt/data/rewards_DQN_3.csv", header=FALSE)
View(rewards_DQN_3)
plot(rewards_DQN_3)
plot(rewards_DQN_3$V1)
mean(rewards_DQN_3$V1)
rewards_DQN_4 <- read.csv("~/Documents/Dokumenter/DTU/Projekt/02461Projekt/data/rewards_DQN_4.csv", header=FALSE)
View(rewards_DQN_4)
#Test
mean(rewards_DQN_4$V1)
#Test
mean(rewards_DQN_4$V2)
mean(rewards_Interval_model_2$V2)
#Test
mean(rewards_DQN_4$V2)
mean(rewards_DQN_4$V1)
rewards_DQN_44 <- read.csv("~/Documents/Dokumenter/DTU/Projekt/02461Projekt/data/rewards_DQN_4.csv", header=FALSE)
View(rewards_DQN_44)
###########400EPHOCS med 0 epsilon
mean(rewards_DQN_44$V1)
mean(rewards_DQN_3$V1) #1167.022
var(rewards_DQN_3$V1)
rewards_DQN_5 <- read.csv("~/Documents/Dokumenter/DTU/Projekt/02461Projekt/data/rewards_DQN_5.csv", header=FALSE)
View(rewards_DQN_5)
################################ trænet 2000 gange på 400 ephocs
mean(rewards_DQN_5$V1)
rewards_DQN_6 <- read.csv("~/Documents/Dokumenter/DTU/Projekt/02461Projekt/data/rewards_DQN_6.csv", header=FALSE)
View(rewards_DQN_6)
#Test:
mean(rewards_DQN_6)
#Test:
mean(rewards_DQN_6$V1)
rewards_DQN_8 <- read.csv("~/Documents/Dokumenter/DTU/Projekt/02461Projekt/data/rewards_DQN_8.csv", header=FALSE)
View(rewards_DQN_8)
################################ trænet 300 gange på 400 ephocs. 20 neuroner 2 hidden lag
mean(rewards_DQN_8$V1)
###########400EPHOCS med 0 epsilon
mean(rewards_DQN_44$V1)
rewards_DQN_10 <- read.csv("~/Documents/Dokumenter/DTU/Projekt/02461Projekt/data/rewards_DQN_10.csv", header=FALSE)
View(rewards_DQN_10)
###################################### trænet 2000 episoder. Test 1000 episoder:
mean(rewards_DQN_10)
###################################### trænet 2000 episoder. Test 1000 episoder:
mean(rewards_DQN_10$V2)
###################################### trænet 2000 episoder. Test 1000 episoder:
mean(rewards_DQN_10$V1)
############################################################################################## OVERNIGHT
data=read.csv("rewards_DQN_prev_20.csv")
######################################## #################################PILOT_trained #######
setwd("~/Documents/Dokumenter/DTU/Projekt/02461Projekt/data")
############################################################################################## OVERNIGHT
data=read.csv("rewards_DQN_prev_20.csv")
mean(data$X.968.0)
plot(data$X.968.0)
plot(data$X.968.0,col="green4",pch=20,xlab = "Episodes", ylab= "Overall reward")
plot(data$X.968.0)
######### Pilot:
data=read.csv("rewards_DQN_prev_21.csv")
plot(data)
plot(data$X.844.0)
mean(data$X.844.0)
############################################################################################## OVERNIGHT
data=read.csv("rewards_DQN_prev_20.csv")
plot(data$X.968.0)
mean(data$X.968.0)
mean(data$X.844.0)
######### Pilot:
data=read.csv("rewards_DQN_prev_21.csv")
mean(data$X.844.0)
plot(data$X.844.0)
var(data$X.844.0)
mean(data$X.844.0)
#Sample size requiered for determing real mean:
1.96**2*(153192.9**2)/50**2
#Sample size requiered for determing real mean:
1.96**2*(153192.9)/50**2
#Sample size requiered for determing real mean:
1.96**2*(153192.9)/25**2
############################################################################################## OVERNIGHT
data=read.csv("rewards_DQN_prev_20.csv")
plot(data$X.968.0)
mean(data$X.968.0)
plot(data$X.968.0,col="green4",pch=20,xlab = "Episodes", ylab= "Overall reward")
############################################################################################## OVERNIGHT
data=read.csv("rewards_DQN_prev_20.csv")
data
############################################################################################## OVERNIGHT
data=read.csv("rewards_DQN_prev_20.csv")
data
############################################################################################## OVERNIGHT
libary(ggplot2)
############################################################################################## OVERNIGHT
library(ggplot2)
data2 <- data.frame(Reward = rewards, Episode = 1:length(rewards))
data$Group <- (data$Episode - 1) %/% 50
data$Group <- (data$X.968.0 - 1) %/% 50
data$Group
data$Group <- (data$X.968.0) %/% 50
data$Group
rewards <- read.csv("rewards_DQN_prev_20.csv"), header = FALSE)$V1
rewards <- read.csv("rewards_DQN_prev_20.csv"), header = FALSE)
data=read.csv("rewards_DQN_prev_20.csv")
data=read.csv("rewards_DQN_prev_20.csv")
rewards <- read.csv("rewards_DQN_prev_20.csv"), header = FALSE)
Rewards=read.csv("rewards_DQN_prev_20.csv")
Rewards=read.csv("rewards_DQN_prev_20.csv")
data=read.csv("rewards_DQN_prev_20.csv")
data$Group <- (data$X.968.0) %/% 50
data$Group
data=read.csv("rewards_DQN_prev_20.csv")
plot(data$X.968.0,col="green4",pch=20,xlab = "Episodes", ylab= "Overall reward")
mean(data$X.968.0)
######## Pilot for interva 200 episodes:
data=read.csv("rewards_interval_model24.csv")
######## Pilot for interva 200 episodes:
data=read.csv("rewards_interval_model_24.csv")
data
plot(data$X.613.0)
mean(data$X.613.0)
var(data$X.844.0)
var(data$X.613.0)
#Sample size requiered for determing real mean:
1.96**2*(25816.12)/25**2
######## Real mean of overnight acc. to sample size:
data=read.csv("rewards_DQN_prev_25.csv")
mean(data$X.526.0)
sd(data$X.844.0)
################################################################################# Pilot of 200 episodes:
data=read.csv("rewards_DQN_prev_21.csv")
sd(data$X.844.0)
plot(data$X.613.0)
sd(data$X.844.0)
################################################################################ Pilot for interval 200 episodes:
data=read.csv("rewards_interval_model_24.csv")
sd(data$X.613.0)
1.96**2*(391.4^2)/25**2
################################################################################# Pilot of 200 episodes:
data=read.csv("rewards_DQN_prev_21.csv")
sd(data$X.844.0)
######## Real mean of interval model acc. to sample size:
data=read.csv("rewards_interval_model_26.csv")
data
mean(data$X.570.0)
sd(data$X.570.0)
######## Real mean of overnight acc. to sample size:
data=read.csv("rewards_DQN_prev_25.csv")
mean(data$X.526.0) #-815.9747
sd(data$X.526.0)
-815.9747 + c(-1,1)*1.96*334.6542/sqrt(950)
######## Real mean of interval model acc. to sample size:
data=read.csv("rewards_interval_model_26.csv")
mean(data$X.570.0) #-492.8616
################################################################################ Pilot for interval 200 episodes:
data=read.csv("rewards_interval_model_24.csv")
plot(data$X.613.0)
mean(data$X.613.0) #-492.3216
################################################################################ TWO SAMPLE WELCH p-value:
(-492.8616-(-815.9747) - 0)/sqrt( (171.5224^2/160)+(334.6542^2/950) )
################################################################################ TWO SAMPLE WELCH p-value:
(-492.8616-(-815.9747) - 0)/sqrt( (171.5224^2/160)+(334.6542^2/950) ) #18.60039
v = 400.7845671
pvalue = 2 * (1-pt(abs(18.60039), df = 400.7845671))
pvalue
1 - pt(18.60039, df = 400.7845671)
################################################################################ TWO SAMPLE WELCH p-value:
(-492.8616-(-815.9747) - 0)/sqrt( (171.5224^2/160)+(334.6542^2/950) ) #18.60039
v = 400.7845671
pvalue = 2 * (1-pt(abs(18.60039), df = 400.7845671))
pvalue
pvalue.round()
pvalue
################################################################################ TWO SAMPLE WELCH p-value:
((492.8616-815.9747) - 0)/sqrt( (171.5224^2/160)+(334.6542^2/950) ) #18.60039
pvalue = 2 * (1-pt(abs(-18.60039), df = 400.7845671))
pvalue
################################################################################ TWO SAMPLE WELCH p-value:
((492.8616-815.9747) - 0)/sqrt( (171.5224^2/160)+(334.6542^2/950) ) #18.60039
v = 400.7845671
pvalue = 2 * (1-pt(abs(-18.60039), df = 400.7845671))
pvalue
-815.9747 + c(-1,1)*1.96*334.6542/sqrt(950)
-815.9747+1.96*334.6542/sqrt(950)
-492.8616+(c-1,1)*1.96*171.5224/sqrt(160)
-492.8616+c(-1,1)*1.96*171.5224/sqrt(160)
-815.9747 + c(-1,1)*1.96*334.6542/sqrt(950)
################################################################################# Pilot of 200 episodes:
data=read.csv("rewards_DQN_prev_21.csv")
plot(data$X.844.0)
mean(data$X.844.0) #-834.8844
#Sample size requiered for determing real mean:
1.96**2*(391.4^2)/25**2 #Mindst 941.6094 episoder. Vi tager derfor 950 episoder
sd(data$X.844.0)
################################################################################ Pilot for interval 200 episodes:
data=read.csv("rewards_interval_model_24.csv")
sd(data$X.613.0)
-815.9747 + c(-1,1)*1.96*334.6542/sqrt(950) #-837.2556 -794.6938
-492.8616+c(-1,1)*1.96*171.5224/sqrt(160) #-519.4393 -466.2839
